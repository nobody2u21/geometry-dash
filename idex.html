<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mini Geometry Dash</title>
<style>
  body {
    margin: 0;
    background: #0b0b0b;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    font-family: monospace;
    color: white;
  }

  canvas {
    background: #111;
    border: 3px solid #ff0055;
  }

  #hint {
    position: absolute;
    top: 15px;
    opacity: 0.7;
  }
</style>
</head>
<body>

<div id="hint">Press SPACE or CLICK to jump</div>
<canvas id="game" width="800" height="300"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let gravity = 0.6;
let jumpPower = -12;
let speed = 4;
let gameOver = false;

// Player
const player = {
  x: 80,
  y: 200,
  size: 30,
  velY: 0,
  grounded: false
};

// Obstacle
let obstacles = [];

function spawnObstacle() {
  obstacles.push({
    x: canvas.width,
    y: 230,
    width: 30,
    height: 40
  });
}

// Controls
function jump() {
  if (player.grounded && !gameOver) {
    player.velY = jumpPower;
    player.grounded = false;
  }
}

document.addEventListener("keydown", e => {
  if (e.code === "Space") jump();
});

canvas.addEventListener("click", jump);

// Game Loop
function update() {
  if (gameOver) return;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Player physics
  player.velY += gravity;
  player.y += player.velY;

  if (player.y + player.size >= 260) {
    player.y = 260 - player.size;
    player.velY = 0;
    player.grounded = true;
  }

  // Draw player
  ctx.fillStyle = "#00eaff";
  ctx.fillRect(player.x, player.y, player.size, player.size);

  // Obstacles
  obstacles.forEach((o, i) => {
    o.x -= speed;
    ctx.fillStyle = "#ff0055";
    ctx.fillRect(o.x, o.y, o.width, o.height);

    // Collision
    if (
      player.x < o.x + o.width &&
      player.x + player.size > o.x &&
      player.y < o.y + o.height &&
      player.y + player.size > o.y
    ) {
      gameOver = true;
      ctx.fillStyle = "white";
      ctx.font = "40px monospace";
      ctx.fillText("GAME OVER", 260, 150);
    }

    if (o.x + o.width < 0) obstacles.splice(i, 1);
  });

  requestAnimationFrame(update);
}

// Spawn spikes
setInterval(() => {
  if (!gameOver) spawnObstacle();
}, 1400);

update();
</script>
</body>
</html>